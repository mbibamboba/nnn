<!DOCTYPE html>
<html lang="ru">
<head>
    <meta http-equiv="Content-Type" content="text/html; charset=1251">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
 <title>Карусель с 6 кусочками</title>
 <style>
      body {
            font-family: Arial, sans-serif;
            display: flex;
            justify-content: center;
            align-items: center;
            min-height: 100vh;
            margin: 0;
            background: linear-gradient(135deg, #f0f0f0, #d2a5d4); /* Уникальный градиентный фон */
        }

.roulette-container {
            text-align: center;
            position: relative;
            width: 450px; /* Размер контейнера для большего круга */
            height: 450px;
        }

        .lamp-container {
            position: absolute;
            margin-top:-30px;
            margin-left: -30px;
            width: 450px;
            height: 450px;
            border-radius: 50%;
             background-color: #5e0897;
            border: 40px solid #212121; /* Золотая рамка */
            z-index: 0; /* Сзади рулетки */
        }

        .lamp {
            position: absolute;
            top: 50%;
            left: 50%;
            width: 14px;
            height: 14px;
            background: white;
            border-radius: 50%;
            transform: translate(-50%, -50%) rotate(var(--angle)) translateY(-250px); /* По периметру большего круга */
            box-shadow: 0 0 12px rgba(255,255,255,1), 0 0 20px rgba(138, 43, 226, 0.5);
            z-index: 2;
            animation: blink 1s infinite ease-in-out; /* Мигающая анимация */
        }

        @keyframes blink {
            0%, 100% { opacity: 1; transform: translate(-50%, -50%) rotate(var(--angle)) translateY(-250px) scale(1); }
            50% { opacity: 0.7; transform: translate(-50%, -50%) rotate(var(--angle)) translateY(-250px) scale(1.1); }
        }
        .wheel {
            width: 470px;
            height: 470px;
            border-radius: 50%;
            position: relative;
            overflow: hidden;
            border: 1px solid #212121; /* Золотая рамка */
            box-shadow: 0 0 20px rgba(0,0,0,0.3);
            transition: transform 4s cubic-bezier(0.25, 0.46, 0.45, 0.94); /* Плавная анимация вращения */
            background: conic-gradient(
                #840cd5 0deg 60deg,     /* Красный сектор 1 */
                #ffe345 60deg 120deg,   /* Золотой сектор 2 (главный приз) */
                #840cd5 120deg 180deg,  /* Красный сектор 2 */
                #e1e1e1 180deg 240deg,  /* Белый сектор 2 */
                #840cd5 240deg 300deg,  /* Красный сектор 3 */
                #e1e1e1 300deg 360deg   /* Белый сектор 3 */
            );
            margin: 0 auto;
        }


        .section-label {
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%) rotate(var(--rotation)) translateY(-160px) rotate(var(--label-rotation));
            font-size: 14px; /* Уменьшил шрифт для картинки */
            font-weight: bold;
            color: #000000;
            text-align: center;
            width: 100px;
            white-space: nowrap;
            display: flex;
            flex-direction: column;
            align-items: center;
            z-index: 2;
        }

        .section-label img {
            width: 30px; /* Размер картинки */
            height: 30px;
            margin-bottom: 5px;
        }
 .pointer1 {
            position: absolute;
            top: -5px;
            left: 52%;
            transform: translateX(-50%);
            width: 0;
            height: 0;
            border-left: 21px solid transparent;
            border-right: 21px solid transparent;
            border-top: 36px solid #212121; /* Золотой указатель */

            z-index: 3;
        }
        .pointer {
            position: absolute;
            top: -1px;
            left: 52%;
            transform: translateX(-50%);
            width: 0;
            height: 0;
            border-left: 15px solid transparent;
            border-right: 15px solid transparent;
            border-top: 28px solid #ffe345; /* Золотой указатель */

            z-index: 4;
        }

        .center {
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            width: 40px;
            height: 40px;
            background: #212121;
          border-radius: 50%;
            z-index: 4;
            box-shadow: 0 0 10px rgba(0,0,0,0.3);
            display: flex;
            justify-content: center;
            align-items: center;
        }
 .center-lamp {
            width: 20px;
            height: 20px;
            background: white;
            border-radius: 50%;
            box-shadow: 0 0 10px rgba(255,255,255,0.9); /* Свечение центральной лампочки */
        }
        .spin-button {
            margin-top: 20px;
            padding: 10px 20px;
            font-size: 18px;
            background: #212121;
            color: white;
            border: none;
            border-radius: 5px;
            cursor: pointer;
            transition: background 0.3s;
        }

        .spin-button:hover {
            background: #5e0897;
        }

        .spin-button:disabled {
            background: #888;
            cursor: not-allowed;
        }

        /* Модальное окно */
        .modal {
            display: none;
            position: fixed;
            z-index: 5;
            left: 0;
            top: 0;
            width: 100%;
            height: 100%;
            background-color: rgba(0,0,0,0.5);
        }

        .modal-content {
            background-color: #fff;
            margin: 15% auto;
            padding: 20px;
            border: none;
            border-radius: 10px;
            width: 80%;
            max-width: 400px;
            text-align: center;
            animation: fadeIn 0.3s;
        }

        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(-20px); }
            to { opacity: 1; transform: translateY(0); }
        }

        .close {
            color: #aaa;
            float: right;
            font-size: 28px;
            font-weight: bold;
            cursor: pointer;
        }

        .close:hover {
            color: #000;
        }

        .result-text {
            font-size: 24px;
            font-weight: bold;
            color: #5e0897;
            margin: 10px 0;
        }


        .img {
        width: 150px; /* Увеличь ширину, например, до 50px */
        height: 150px; /* Увеличь высоту, например, до 50px */
        object-fit: contain; /* Чтобы картинка не искажалась, если размеры не квадратные */
        margin: 5px; /* Небольшой отступ от текста или краёв, если нужно */
    }
    </style>
</head>
<body>
    <div class="roulette-container">
        <div class="lamp-container">
            <!-- 16 лампочек по кругу -->
            <div class="lamp" style="--angle: 0deg;"></div>
            <div class="lamp" style="--angle: 22.5deg;"></div>
            <div class="lamp" style="--angle: 45deg;"></div>
            <div class="lamp" style="--angle: 67.5deg;"></div>
            <div class="lamp" style="--angle: 90deg;"></div>
            <div class="lamp" style="--angle: 112.5deg;"></div>
            <div class="lamp" style="--angle: 135deg;"></div>
            <div class="lamp" style="--angle: 157.5deg;"></div>
            <div class="lamp" style="--angle: 180deg;"></div>
            <div class="lamp" style="--angle: 202.5deg;"></div>
            <div class="lamp" style="--angle: 225deg;"></div>
            <div class="lamp" style="--angle: 247.5deg;"></div>
            <div class="lamp" style="--angle: 270deg;"></div>
            <div class="lamp" style="--angle: 292.5deg;"></div>
            <div class="lamp" style="--angle: 315deg;"></div>
            <div class="lamp" style="--angle: 337.5deg;"></div>
        </div>
                <div class="pointer1"></div>

        <div class="pointer"></div>
        <div class="wheel" id="wheel">
            <div class="center">
                <div class="center-lamp"></div>
            </div>
            <!-- Надписи и картинки в секторах (кастомизируйте текст и src картинок здесь) -->
 <div class="section-label" style="--rotation: 30deg; --label-rotation: -3deg;">              
         <img  style="width: 55px; height: 55px;" src="file:///C:/Users/Вася/Desktop/72ppi/222.png" alt="Приз 1">
               <b style="font-size: 13px; color: #ffffff;">   ПРОМОКОД НА 40%</br> В ЧИТАЙ ГОРОД</b> 
            </div>
            <div class="section-label" style="--rotation: 90deg; --label-rotation: 5deg;">
                <img style="width: 60px; height: 60px;" src="file:///C:/Users/Вася/Desktop/72ppi/1.png" alt="Приз 2">
              <b style="font-size: 20px; color: #fe5d00;">  ГЛАНЫЙ </br> ПРИЗ  </b> 
            </div>
            <div class="section-label" style="--rotation: 150deg; --label-rotation: -5deg;">
                <img  style="width: 55px; height: 55px;" src="file:///C:/Users/Вася/Desktop/72ppi/333.png" alt="Приз 3">
                <b style="color: #ffffff;">    НИЧЕГО</b>       
            </div>
            <div class="section-label" style="--rotation: 210deg; --label-rotation: 5deg;">
                <img  style="width: 55px; height: 55px;" src="file:///C:/Users/Вася/Desktop/72ppi/2.png" alt="Приз 4">
                     <b style="color: #840cd5;">   ПРОМОКОД </br>НА 10% НА ИВИ</b>

            </div>
            <div class="section-label" style="--rotation: 270deg; --label-rotation: -5deg;">
               <b style="font-size: 60px; color: #ffffff;">   ?</b>
            </div>
            <div class="section-label" style="--rotation: 330deg; --label-rotation: -5deg;">
                <img  style="width: 55px; height: 55px;" src="file:///C:/Users/Вася/Desktop/72ppi/3.png" alt="Приз 6">
              <b style="color: #840cd5;">     НИЧЕГО</b>
            </div>
        
        </div>
        </br></br>
        
        <button class="spin-button" id="spinButton" onclick="spinWheel()">Крутить рулетку!</button>
    </div>

    <!-- Модальное окно -->
    <div id="resultModal" class="modal">
        <div class="modal-content">
            <span class="close" onclick="closeModal()">&times;</span>
            <h2>Результат!</h2>
            <div id="resultText" class="result-text"></div>
            <button onclick="closeModal()" style="margin-top: 10px; padding: 10px; background: #212121; color: white; border: none; border-radius: 5px; cursor: pointer;">OK</button>
        </div>
    </div>

    <script>
        const sections = [
            {  text: 'Приз 1, теперь ты пидр  лови промокод в чг',img:'file:///C:/Users/Вася/Desktop/72ppi/222.png', color: '#FF0000' },
            {  text: 'Приз 2, теперь ты пидр  лови главынй приз',img:'file:///C:/Users/Вася/Desktop/72ppi/222.png', color: '#FFFFFF' },
            { text: 'Приз 3, теперь ты пидр  фиг те', img:'file:///C:/Users/Вася/Desktop/72ppi/222.png', color: '#FF0000' },
            { text: 'Приз 4, теперь ты пидр  лови промо на ИВИ', img:'file:///C:/Users/Вася/Desktop/72ppi/222.png', color: '#FFFFFF' },
            {text: 'Приз 5, теперь ты пидр  пока не придумал шо те', img:'file:///C:/Users/Вася/Desktop/72ppi/222.png',  color: '#FF0000' },
            { text: 'Приз 6, теперь ты пидр фиг те', img:'file:///C:/Users/Вася/Desktop/72ppi/222.png', color: '#FFFFFF' }
        ]; // Массив секторов с текстом (теперь 7, кастомизируйте здесь)

        const wheel = document.getElementById('wheel');
        const spinButton = document.getElementById('spinButton');
        const modal = document.getElementById('resultModal');
        const resultText = document.getElementById('resultText');

        // Добавляем переменную для попыток
        let attempts = 1;  // Одна попытка

        // Обновить надписи в секторах
        function updateLabels() {
            const labels = document.querySelectorAll('.section-label');
                const img = label.querySelector('img');
                label.querySelector('span').textContent = sections[index].text; // Предполагаем, что текст в span, но в HTML это просто текст после img
                // Фактически, текст после <img>, так что:
                const textNode = label.lastChild;
                if (textNode.nodeType === Node.TEXT_NODE) {
                    textNode.textContent = sections[index].text;
                }
            
          
        }
       updateLabels();

    function spinWheel() {
        if (attempts > 0) {
            attempts--;  // Уменьшаем попытки

            spinButton.disabled = true;
            spinButton.textContent = 'Крутится...';

            const fullSpins = 5 + Math.random() * 5;
            const availableIndices = [0, 2, 3, 4, 5]; // Исключаем индекс 1 (главный приз)
            const sectionIndex = availableIndices[Math.floor(Math.random() * availableIndices.length)]; // Случайный из доступных
            const extraDegrees = sectionIndex * 60 + Math.random() * 60; // 60 градусов на сектор
            const totalRotation = (fullSpins * 360) + extraDegrees;

            wheel.style.transform = `rotate(${totalRotation}deg)`;

            setTimeout(() => {
                let normalizedAngle = (totalRotation % 360 + 360) % 360;
                let calculatedIndex = Math.floor((360 - normalizedAngle) / 60) % 6;
                let winner = sections[calculatedIndex].text;

                if (calculatedIndex === 1) { // Если попали на главный приз
                    // Дополнительное вращение на 180° (на 3 сектора) без паузы, быстро (0.5 сек)
                    const extraRotation = totalRotation + 180;
                    wheel.style.transition = 'transform 0.6s ease-in'; // Быстрая анимация без паузы
                    wheel.style.transform = `rotate(${extraRotation}deg)`;

                    setTimeout(() => {
                        normalizedAngle = (extraRotation % 360 + 360) % 360;
                        calculatedIndex = Math.floor((360 - normalizedAngle) / 60) % 6;
                        winner = sections[calculatedIndex].text;
                        resultText.innerHTML = winner;
                        modal.style.display = 'block';
                        // После спина НЕ сбрасываем кнопку — она остаётся отключённой
                        spinButton.textContent = 'Попытки закончились :(';
                    }, 500); // Ждём 0.5 секунды быстрой анимации
                } else {
                    resultText.innerHTML = winner;
                    modal.style.display = 'block';
                    // После спина НЕ сбрасываем кнопку — она остаётся отключённой
                    spinButton.textContent = 'Попытки закончились :(';
                }
            }, 4000); // Основной спин 4 секунды
        } else {
            // Если попытки закончились, показываем alert
            alert('попытки закончились :(');
        }
    }

    function closeModal() {
        modal.style.display = 'none';
    }

    window.onclick = function(event) {
        if (event.target == modal) {
            closeModal();
        }
    }
    </script>
</body>
</html>

